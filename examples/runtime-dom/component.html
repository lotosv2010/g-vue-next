<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>component</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module">
      // import { render, h, Text, Fragment } from "../../node_modules/vue/dist/vue.esm-browser.js"
      import { render, h, Text, Fragment } from "../../packages/runtime-dom/dist/runtime-dom.esm.js";

      let count = 100;
      const component = {
        data() {
          return {
            name: "hello world",
            age: 18
          }
        },
        render() {
          setTimeout(() => {
            this.age += 1
            // this.age += 1 // 这里需要异步更新支持，否则页面上的age会成倍增加
            // count += 1
          }, 1000);
          // 更新逻辑不能写在render函数内
          return h('div', {style: {color: "red"}}, [h(Text, this.name), h('p', this.age), h(Text, count)])
        }
      }

      render(h(component), document.getElementById("app"))
    </script>
  </body>
</html>
